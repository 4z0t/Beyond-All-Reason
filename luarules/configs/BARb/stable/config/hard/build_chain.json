// Mono-space font required
{
	"porcupine": {
		"unit": {
		//              0           	1         		2        		3           	4          		5     			6				7				8				9   
			"armada":  ["armada_sentry",		"armada_harpoon",   		"armada_nettle",  		"armada_beamer", 	"armada_overwatch",  		"armada_dragonsclaw",		"armada_ferret",	"armada_chainsaw", 		"armada_pitbull",   		"armada_moray",
						"armada_arbalest",   	"armada_rattlesnake",  		"armada_pulsar", 		"armada_gauntlet", 	"armada_citadel", 		"armada_radartower",		"armada_sneakypete",		"armada_energystorage", 	"armada_metalstorage", 	"armada_advancedsolarcollector",
						"armada_constructionturret",	"armada_advancedradartower",		"armada_pinpointer",		"armada_hardenedenergystorage",  	"armada_paralyzer",		"armada_veil",		"armada_cloakablefusionreactor",     "armada_solarcollector",     "armada_keeper",      "armada_manta"],
		//	
		//              0          		1          		2          		3            	4           	5          		6				7				8				9
			"cortex":  ["cortex_guard",		"cortex_urchin",   		"cortex_thistle",  		"cortex_twinguard",   	"cortex_warden",   	"cortex_dragonsmaw",  		"cortex_sam",  	"cortex_eradicator",		"cortex_scorpion", 		"cortex_lamprey", 
						"corflak",   	"cortex_persecutor", 	"cortex_calamity", 		"cortex_agitator",    	"corfmd",		"cortex_radartower",		"cortex_castro",		"cortex_energystorage",		"cortex_metalstorage",		"cortex_advancedsolarcollector", 
						"cortex_constructionturret",	"cortex_advancedradartower",		"cortex_pinpointer",		"cortex_hardenedenergystorage",	"cortex_catalyst", 		"cortex_shroud",	"cortex_fusionreactor",       "cortex_solarcollector",     "cortex_overseer",      "cortex_coral"]
		},
		
	// Actual number of defences per cluster bounded by income - the order of defenses that should be build with numbers as above.
	"land":  [0, 3, 5, 6, 4, 8, 10, 12],
	"water": [1, 1, 4, 9, 10, 9, 10],
	"prevent": 1,  // number of preventive defences
	"amount": {  // income bound factor
		"offset": [-2.0, 2.0],
		// Amount factor: 10x10 ~ 48.0, 20x20 ~ 32.0
		"factor": [48.0, 32.0],
		"map": [10, 20]
	},
	"point_range": 600.0,  // maximum distance between 2 points in hierarchical cluster within economy cluster

	// Base defence and time to build it, in seconds
	"base": [
		[3, 420], [2, 520], [4, 760], [10, 1200], [14, 1250], [12, 1600], [22, 1800]
	],

	//superweapons get only build when there is nothing else to do
	"superweapon": {
		"unit": {
			"armada": [ "armada_basilica",  "armada_ragnarok"], //"armada_mercury", "armada_citadel", "armada_paralyzer", "armada_armageddon"
			"cortex": [ "cortex_basilisk",  "cortex_calamity" ] //"cortex_screamer", "corfmd", "cortex_catalyst", "cortex_apocalypse"
		},
		"weight":     [    0.5,      0.1  ],

		"condition": [40, 600]  // [<Minimum income>, <maximum seconds to build>]
	},

	// Fallback defence
	"default": {
		"armada": "armada_sentry",
		"cortex": "cortex_guard"
	}
},



// Actions on building finished event
"build_chain": {
	// WARNING: Avoid recursion
	// <category>: factory, nano, store, pylon, energy, geo, defence, bunker, big_gun, radar, sonar, convert, mex, mexup
	"energy": {
		// <UnitDef>: {<elements>}
		"armada_advancedsolarcollector": {
			// Available elements:
			// "energy": [max energy income, <"mex"|true>]
			// "pylon": <boolean>
			// "porc": <boolean>
			// "terra": <boolean>
			// "hub": [
			//     // chain1
			//     [{<unit1>, <category>, <offset>, <condition>}, {<unit2>, <category>, <offset>, <condition>}, ...],
			//     // chain2
			//     [{...}, {...}, ...],
			//     ...
			// ]
			// <unit>: UnitDef
			// <offset>:
			//     1) [x, z] in South facing, elmos
			//     2) {<direction>: <delta>} - left, right, front, back
			// <condition>: air:<bool>, energy:<bool>, wind:<float>, sensor:<float>, chance:0.0~1.0
			// <priority>: low, normal, high, now

			// Build pylon in direction of nearby mex cluster
//			"pylon": true,

			// Build chain of units
			"hub": [
				[  // chain1
					{"unit": "armada_beamer", "category": "defence", "offset": {"front": 80}, "condition": {"chance": 0.25}}
//				],
//				[  // chain2
//					{"unit": "armada_energyconverter", "category": "convert", "offset": [80, 80], "condition": {"energy": true}}
				]
			]
		},
//		"armada_solarcollector": {
//			"hub": [
//				[  // chain1
//					{"unit": "armada_energyconverter", "category": "convert", "offset": [80, 80], "condition": {"energy": true}}
//				]
//			]
//		},
		"armada_fusionreactor": {
			"hub": [
				[ 
					//{"unit": "armada_pitbull", "category": "defence", "offset": [200, 0], "condition": {"chance": 0.5}},
					{"unit": "armada_ferret", "category": "defence", "offset": [-80, 80], "condition": {"air": true}},
					{"unit": "armada_constructionturret", "category": "defence", "offset": {"front": 100}},
					{"unit": "armada_armageddon", "category": "defence", "offset": [200, 0], "condition": {"chance": 0.2}}
				]
			]
		},
		"armada_cloakablefusionreactor": {
			"hub": [
				[  
					
					{"unit": "armada_pitbull", "category": "defence", "offset": [-200, -200], "condition": {"chance": 0.5}},
					{"unit": "armada_ferret", "category": "defence", "offset": [-200, 200], "condition": {"air": true}}
				]
			]
		},
		"armada_advancedfusionreactor": {
			"hub": [
				[  // chain1
//					{"unit": "armada_advancedenergyconverter", "category": "convert", "offset": [120, 120]},
//					{"unit": "armada_advancedenergyconverter", "category": "convert", "offset": [150, 120]},
//					{"unit": "armada_advancedenergyconverter", "category": "convert", "offset": [120, 150]},
//					{"unit": "armada_advancedenergyconverter", "category": "convert", "offset": [150, 150]},
//					{"unit": "armada_advancedenergyconverter", "category": "convert", "offset": [120, -120]},
		
					
	
					{"unit": "armada_ferret", "category": "defence", "offset": [-80, 80], "condition": {"air": true}}
				]
			]
		},

		"cortex_advancedsolarcollector": {
			"hub": [
				[{"unit": "cortex_twinguard", "category": "defence", "offset": {"front": 100}, "condition": {"chance": 0.12}}],
                [{"unit": "cortex_twinguard", "category": "defence", "offset": {"back": 100}, "condition": {"chance": 0.12}}]  
			]
		},
		"cortex_fusionreactor": {
			"hub": [
				[  
                    {"unit": "cortex_constructionturret", "category": "defence", "offset": {"front": 100}},	
                    {"unit": "cortex_sam", "category": "defence", "offset": [-80, 80], "condition": {"air": true}},
					{"unit": "cortex_apocalypse", "category": "defence", "offset": [200, 0], "condition": {"chance": 0.2}}
				]
			]
		},
		"cortex_advancedfusionreactor": {
			"hub": [
				[
					{"unit": "cortex_calamity", "category": "defence", "offset": [-180, 180]},
					{"unit": "cortex_sam", "category": "defence", "offset": [-80, 80], "condition": {"air": true}}
				]
			]
		}
	},




	"geo": {
		"armada_geothermalpowerplant": {
			"hub": [[{"unit": "armada_beamer", "category": "defence", "offset": {"front": 64}}]]
		},
		"cortex_geothermalpowerplant": {
			"hub": [[{"unit": "cortex_twinguard", "category": "defence", "offset": {"front": 64}}]]
		}
	},




	"factory": {
		"armada_botlab": {
			"hub": [[{"unit": "armada_sentry", "category": "defence", "offset": {"back": 5}, "priority": "now"}]]
		},
		"armada_vehicleplant": {
			"hub": [[{"unit": "armada_sentry", "category": "defence", "offset": {"back": 5}, "priority": "now"}]]
		},
		"cortex_botlab": {
			"hub": [
				[{"unit": "cortex_guard", "category": "defence", "offset": {"back": 5}, "priority": "now"}],
				[{"unit": "cortex_scorpion", "category": "defence", "offset": {"front": 300}, "priority": "low"}]
			]				 
		},
		"cortex_vehicleplant": {
			"hub": [[{"unit": "cortex_guard", "category": "defence", "offset": {"back": 5}, "priority": "now"}]]
		},


		"armada_advancedbotlab": {
			"hub": [
					//[{"unit": "armada_advancedradartower", "category": "defence", "offset": {"back": 100}, "priority": "normal"}],
					[{"unit": "armada_rattlesnake", "category": "defence", "offset": {"front": 100}, "priority": "low"}]
		]
		},
		"armada_advancedvehicleplant": {
			"hub": [
				[{"unit": "armada_rattlesnake", "category": "defence", "offset": {"front": 100}, "priority": "low"}]
			]
		},
		"cortex_advancedbotlab": {
			"hub": [
				[{"unit": "cortex_scorpion", "category": "defence", "offset": {"front": 200}, "priority": "normal"}],
				[{"unit": "cortex_persecutor", "category": "defence", "offset": {"front": 150}, "priority": "low"}]
			]
		},
		"cortex_advancedvehicleplant": {
			"hub": [[{"unit": "cortex_guard", "category": "defence", "offset": {"back": 5}, "priority": "now"}]]
		},



		"armada_aircraftplant": {
			//"hub": [[{"unit": "armada_sentry", "category": "defence", "offset": {"front": 5}, "priority": "now"}]]
		},
		"cortex_aircraftplant": {
			//"hub": [[{"unit": "cortex_guard", "category": "defence", "offset": {"front": 5}, "priority": "now"}]]
		},



		"armada_shipyard": {
			"hub": [
				[
				{"unit": "armada_manta", "category": "defence", "offset": {"front": 150}, "priority": "now"},
				{"unit": "armada_advancedshipyard", "category": "factory", "offset": [100, 100]}
			]
		]
		},
		"armada_advancedshipyard": {
			"hub": [
				[
					{"unit": "armada_navalfusionreactor", "category": "factory", "offset": [-200, 50], "condition": {"chance":1.0}, "priority": "normal"},
					{"unit": "armada_moray", "category": "factory", "offset": [-200, 50], "condition": {"chance":1.0}, "priority": "normal"}
				]
		    ]
		},


		"cortex_shipyard": {
			"hub": [
				[
				{"unit": "cortex_coral", "category": "defence", "offset": {"front": 150}, "priority": "high"}
				//{"unit": "cortex_advancedshipyard", "category": "factory", "offset": [100, 100], "priority": "low"}
				],
				[
					{"unit": "cortex_navalfusionreactor", "category": "factory", "offset": [-200, 50], "condition": {"chance":1.0}, "priority": "normal"},
					{"unit": "cortex_navalfusionreactor", "category": "factory", "offset": [-200, 50], "condition": {"chance":1.0}, "priority": "normal"}
				],
				[
					{"unit": "cortex_navaladvancedenergyconverter", "category": "defence", "offset": {"back": 400}, "priority": "normal"},
					{"unit": "cortex_navaladvancedenergyconverter", "category": "defence", "offset": {"back": 400}, "priority": "low"},
					{"unit": "cortex_navaladvancedenergyconverter", "category": "defence", "offset": {"back": 400}, "priority": "low"},
					{"unit": "cortex_navaladvancedenergyconverter", "category": "defence", "offset": {"back": 400}, "priority": "low"}
				]
			]
		},
		"cortex_advancedshipyard": {
			"hub": [
				[
					{"unit": "cortex_coral", "category": "defence", "offset": {"front": 150}, "priority": "high"}
				],
				[
					{"unit": "cortex_navalfusionreactor", "category": "factory", "offset": [-200, 50], "condition": {"chance":1.0}, "priority": "normal"},
					{"unit": "cortex_lamprey", "category": "factory", "offset": [-200, 50], "condition": {"chance":1.0}, "priority": "normal"},
					{"unit": "cortex_devastator", "category": "factory", "offset": [-200, 50], "condition": {"chance":1.0}, "priority": "normal"}
				]
		    ]
		}
	},






	"mex": {
		"armada_metalextractor": {
//			"terra": true,
//			"energy": [200, true], //AI will force-build 1 solar near every mex till it reaches 200 energy income
			"porc": true
		},
		"cortex_metalextractor": {
//			"energy": [200, true],
			"porc": true
		}
	},





	"radar":{
		"armada_radartower": {
			"hub": [
				[{"unit": "armada_sentry", "category": "defence", "offset": {"front": 100}, "priority": "now"}],
				[{"unit": "armada_nettle", "category": "defence", "offset": {"back": 10},"condition": {"air": true}, "priority": "high"}],
				[{"unit": "armada_gauntlet", "category": "defence", "offset": [120, 100], "priority": "normal"}],
				[
					{"unit": "armada_rattlesnake", "category": "defence", "offset": [120, -100], "priority": "high"},
					{"unit": "armada_pitbull", "category": "defence", "offset": [140, 100], "priority": "normal"}
				],
				[
					//{"unit": "armada_pulsar", "category": "defence", "offset": [70, -100], "priority": "normal"},
					{"unit": "armada_pulsar", "category": "defence", "offset": [70, 100], "condition": {"chance":0.5}, "priority": "low"}
				],
				[
					{"unit": "armada_sneakypete", "category": "defence", "offset": [-60, 0], "priority": "low"},
					{"unit": "armada_advancedradartower", "category": "defence", "offset": [-100, 0], "condition": {"chance":0.4}, "priority": "low"}, 
					{"unit": "armada_basilica", "category": "defence", "offset": [-100, 0], "condition": {"chance":0.3}, "priority": "low"}
				]
			]
		},
		"cortex_radartower": {
			"hub": [
				[{"unit": "cortex_guard", "category": "defence", "offset": {"front": 100}, "priority": "now"}],
				[{"unit": "cortex_slingshot", "category": "defence", "offset": {"back": 10}, "condition": {"air": true}, "priority": "high"}],
				[{"unit": "cortex_agitator", "category": "defence", "offset": [100, -100], "priority": "normal"}],
				[{"unit": "cortex_scorpion", "category": "defence", "offset": [100, -100], "priority": "normal"}],
				[{"unit": "cortex_persecutor", "category": "defence", "offset": [120, 100], "priority": "high"}],
				[
					//{"unit": "cortex_calamity", "category": "defence", "offset": [80, -100], "priority": "normal"},
					{"unit": "cortex_calamity", "category": "defence", "offset": [70, 100], "condition": {"chance":0.5}, "priority": "low"}],
				[
					{"unit": "cortex_castro", "category": "defence", "offset": [-60, 0], "priority": "low"},
					{"unit": "cortex_advancedradartower", "category": "defence", "offset": [-100, 0], "condition": {"chance":0.4}, "priority": "low"}, 
					{"unit": "cortex_basilisk", "category": "defence", "offset": [-100, 0], "condition": {"chance":0.4}, "priority": "low"} 
				]
		]
		},
		"armada_navalradarsonar":{
			"hub":[
				[{"unit": "armada_shipyard", "category": "factory", "offset": {"front": 100}, "condition": {"chance":1.0}, "priority": "now"}],

				[
					{"unit": "cortex_urchin", "category": "defence", "offset": {"front":100},  "priority": "now"},
					{"unit": "cortex_advancedshipyard", "category": "factory", "offset": [50, 50],  "priority": "high"}
				],

				[{"unit": "armada_gorgon", "category": "factory", "offset": [100, 50], "condition": {"chance":1.0}, "priority": "normal"}],
				[{"unit": "armada_moray", "category": "factory", "offset": [100, 50], "condition": {"chance":1.0}, "priority": "normal"}],
				[{"unit": "armada_navalnettle", "category": "factory", "offset": [100, 50], "condition": {"chance":1.0}, "priority": "normal"}],
				[{"unit": "armada_basilica", "category": "defence", "offset": [-100, 0], "condition": {"chance":1.0}, "priority": "low"}],
				[{"unit": "armada_pulsar", "category": "defence", "offset": [-100, 0], "condition": {"chance":1.0}, "priority": "low"}],

				[
					{"unit": "armada_citadel", "category": "defence", "offset": [-100, 0], "condition": {"chance":0.5}, "priority": "low"},
					{"unit": "armada_sneakypete", "category": "defence", "offset": [-100, 0], "condition": {"chance":1.0}, "priority": "low"}
				]
			]
		},
		"cortex_radarsonartower":{
			"hub":[
				[{"unit": "cortex_shipyard", "category": "factory", "offset": {"front": 100}, "condition": {"chance": 1.0}, "priority": "now"}],

				[
					{"unit": "cortex_coral", "category": "defence", "offset": {"front":100},  "priority": "now"},
					{"unit": "cortex_advancedshipyard", "category": "factory", "offset": [50, 50],  "priority": "high"}
				],

				[{"unit": "cortex_agitator", "category": "factory", "offset": [100, 50], "condition": {"chance":1.0}, "priority": "normal"}],
				[{"unit": "cortex_persecutor", "category": "factory", "offset": [100, 0], "condition": {"chance":1.0}, "priority": "normal"}],
				[{"unit": "cortex_basilisk", "category": "defence", "offset": [-100, 100], "condition": {"chance":1.0}, "priority": "low"}],

				[
					{"unit": "corfmd", "category": "defence", "offset": [-100, 100], "condition": {"chance":0.5}, "priority": "low"},
					{"unit": "cortex_castro", "category": "defence", "offset": [-100, 100], "condition": {"chance":1.0}, "priority": "low"}
				],


				[{"unit": "cortex_devastator", "category": "factory", "offset": [100, 50], "condition": {"chance":1.0}, "priority": "normal"}],
				[{"unit": "cortex_lamprey", "category": "factory", "offset": [100, 50], "condition": {"chance":1.0}, "priority": "normal"}]

			]
		}

	}
}
}
